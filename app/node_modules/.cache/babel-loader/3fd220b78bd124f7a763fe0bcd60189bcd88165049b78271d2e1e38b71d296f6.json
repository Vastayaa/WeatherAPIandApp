{"ast":null,"code":"import{useState}from'react';import axios from'axios';import'./App.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export const App=()=>{const[cityName,setCityName]=useState(\"\");const[weatherData,setWeatherData]=useState({});const[isError,setIsError]=useState(false);const[idError,setIdError]=useState(-1);const changeCityInput=e=>{setCityName(e.target.value);};const fetchProxyAPI=async()=>{try{let resp=await axios.post('http://localhost:5000/api',{text:cityName});resp.data.state===200?setWeatherData(resp.data.data):setIsError(true);setIdError(resp.data.state);}catch(e){setIsError(true);setIdError(599);}};const dateBuilder=()=>{let d=new Date(),months=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],days=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],day=days[d.getDay()],date=d.getDate(),month=months[d.getMonth()],year=d.getFullYear();return\"\".concat(day,\", \").concat(date,\" \").concat(month,\" \").concat(year);};const onEnter=e=>{if(e.keyCode===13&&cityName.length>0){fetchProxyAPI();}else{setWeatherData(\"undefined\");setIsError(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mainWindow\",children:[/*#__PURE__*/_jsx(\"div\",{className:typeof weatherData.main==\"undefined\"?'background':Math.round(weatherData.main.temp-273.15)>0?'background heap':'background cold'}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"header\",id:\"header\",placeholder:\"Search\",onChange:changeCityInput,onKeyDown:onEnter,value:cityName}),isError?/*#__PURE__*/_jsx(\"img\",{className:\"errWrap\",src:\"/assets/\".concat(idError,\".jpg\"),alt:\"err\"}):typeof weatherData.main==\"undefined\"?null:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"locationBox\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"location\",children:\"\".concat(weatherData.name,\", \").concat(weatherData.sys.country)}),/*#__PURE__*/_jsx(\"div\",{className:\"date\",children:dateBuilder()})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weatherBox\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"temp\",children:[Math.round(weatherData.main.temp-273.15),\"\\xB0c\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"weather\",children:weatherData.weather[0].main})]})]})]})});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}